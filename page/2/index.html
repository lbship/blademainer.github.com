<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="blademainer"><link rel="icon" href="/hexo.png"><title>blademainer</title><meta name="description"><link rel="alternate" type="application/rss+xml" title="blademainer" href="/atom.xml"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/highlight.css"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">
</head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#main-navbar" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">blademainer</a></div><div id="main-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/blademainer/blademainer.github.com">Github</a></li><li><a href="/about/">About</a></li></ul></div><div class="avatar-container"><div class="avatar-img-border"><a href="/"><img src="/hexo.png" class="avatar-img"></a></div></div></div></nav><div id="header-big-imgs" data-num-img='3' data-img-src-1="/bigimgs/01.jpg" data-img-desc-1="beautiful island" data-img-src-2="/bigimgs/02.jpg" data-img-desc-2="Tropical Fish" data-img-src-3="/bigimgs/03.jpg" data-img-desc-3="ocean"></div><header class="header-section has-img"><div class="intro-header big-img"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="page-heading"><h1>Blademainer</h1><hr class="small"><span class="page-subheading">Just do it!</span></div></div></div></div><span class="img-desc"></span></div></header><div role="main" class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="posts-list"><article class="post-preview"><a href="/2015/10/30/scala-object-reflect-get/"><h2 class="post-title">scala根据Class获取单例（孤立）对象</h2></a><p class="post-meta">Posted on Oct 30 2015 · <a href="/tags/scala/" class="tag post-meta">scala</a> · <a href="/tags/object/" class="tag post-meta">object</a> · <a href="/tags/reflect/" class="tag post-meta">reflect</a></p><div class="post-entry"><h1 id="开发中遇到的问题"><a href="#开发中遇到的问题" class="headerlink" title="开发中遇到的问题"></a>开发中遇到的问题</h1><p>在scala开发过程中，有需要使用Class获取scala单例（孤立）对象的需求，但是直接使用Class.newInstance()是无法获取单例对象的。</p>
<h1 id="发现"><a href="#发现" class="headerlink" title="发现"></a>发现</h1><p>google之后，在一篇博客：<a href="http://blog.csdn.net/zhangjg_blog/article/details/23376465" target="_blank" rel="external">http://blog.csdn.net/zhangjg_blog/article/details/23376465</a> 其中有一个例子：</p>
<pre><code class="scala">object  Test {
    val a = &quot;a string&quot;;
    def printString = println(a)
}
</code></pre>
<p>编译之后可以看到有两个class文件：</p>
<blockquote>
<p>Test$.class<br>Test.class</p>
</blockquote>
<p>也就是说， 这个孤立对象也被编译成一个同名类Test 。 除此之外， 还有一个叫做Test$的类， 这个以$结尾的类就是所谓的虚构类（synthetic class， 《Scala编程》中将之翻译为虚构类） 。<br></div><a href="/2015/10/30/scala-object-reflect-get/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2015/10/14/2014-06-30-spring-mvc-jackson-enhance/"><h2 class="post-title">最终版解决方案：json循环问题（使用javassist增强）：Spring MVC中使用jackson的MixInAnnotations方法动态过滤JSON字段</h2></a><p class="post-meta">Posted on Oct 14 2015 · <a href="/tags/java/" class="tag post-meta">java</a> · <a href="/tags/javassist/" class="tag post-meta">javassist</a> · <a href="/tags/spring-mvc/" class="tag post-meta">spring-mvc</a> · <a href="/tags/jackson/" class="tag post-meta">jackson</a> · <a href="/tags/循环/" class="tag post-meta">循环</a> · <a href="/tags/springmvc/" class="tag post-meta">springmvc</a> · <a href="/tags/spring/" class="tag post-meta">spring</a> · <a href="/tags/json/" class="tag post-meta">json</a></p><div class="post-entry"><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>项目使用SpringMVC框架，并用jackson库处理JSON和POJO的转换。在POJO转化成JSON时，有些属性我们不需要输出或者有些属性循环引用会造成无法输出。</p>
<ul>
<li>例如：实体User其中包括用户名、密码、邮箱等，但是我们在输出用户信息不希望输出密码、邮箱信息;</li>
<li>例如：实体user和department是多对一的关系，user内保存着department的信息，那么json输出时会导致这两个实体数据的循环输出;</li>
</ul>
<p>jackson默认可以使用JsonIgnoreProperties接口来定义要过滤的属性,然后使用<code>ObjectMapper#addMixInAnnotations</code>来设置对应实体对应的JsonIgnoreProperties接口,这样就能达到过滤的目的。可是这样很不爽,因为如果你对n个实体对应有m种过滤需求就至少要建n*m个JsonIgnoreProperties接口。</p></div><a href="/2015/10/14/2014-06-30-spring-mvc-jackson-enhance/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2014/01/06/2014-01-06-samba-linux-attentions/"><h2 class="post-title">Linux安装Samba文件共享服务器</h2></a><p class="post-meta">Posted on Jan 6 2014 · <a href="/tags/Samba/" class="tag post-meta">Samba</a> · <a href="/tags/linux/" class="tag post-meta">linux</a></p><div class="post-entry"><p>#Linux安装Samba文件共享服务器<br>Samba相对于Windows服务器来说具有更灵活的配置、高效等特点。个人认为是共享服务器的最佳选择。</p></div><a href="/2014/01/06/2014-01-06-samba-linux-attentions/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2014/01/04/2014-01-04-linux-backup-shell/"><h2 class="post-title">Linux使用shell脚本定时备份文件（夹）并删除一定日期之前的备份和日志</h2></a><p class="post-meta">Posted on Jan 4 2014 · <a href="/tags/shell/" class="tag post-meta">shell</a> · <a href="/tags/Linux/" class="tag post-meta">Linux</a></p><div class="post-entry"><h1 id="备份的原理"><a href="#备份的原理" class="headerlink" title="备份的原理"></a>备份的原理</h1><p>使用Linux的Cron程序定时执行该脚本从而达到备份和删除备份历史的目的。</p>
<h1 id="主要参数"><a href="#主要参数" class="headerlink" title="主要参数"></a>主要参数</h1><p>脚本主要需要设置参数有三个：</p>
<ul>
<li>ORIGIN_FOLDER：要备份的目录，必须以\结尾</li>
<li>DES_FOLDER：备份文件存储路径（可以是网络路径，前提是必须要有权限管理该路径下的文件夹）</li>
<li>DAYS_AGO：该参数表示要删除多少天之前的备份（比如今天是2012年12月31日，那么20121221的文件不会被删除，20121220或比之小的文件夹将会被删除）</div><a href="/2014/01/04/2014-01-04-linux-backup-shell/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2014/01/04/2014-01-04-windows-backup-bat/"><h2 class="post-title">Windows使用bat脚本定时备份文件（夹）并删除一定日期之前的备份和日志</h2></a><p class="post-meta">Posted on Jan 4 2014 · <a href="/tags/bat/" class="tag post-meta">bat</a> · <a href="/tags/windows/" class="tag post-meta">windows</a></p><div class="post-entry"><h1 id="备份的原理"><a href="#备份的原理" class="headerlink" title="备份的原理"></a>备份的原理</h1><p>使用windows的任务计划程序定时执行该脚本从而达到备份和删除备份历史的目的。</p>
<h1 id="主要参数"><a href="#主要参数" class="headerlink" title="主要参数"></a>主要参数</h1><p>脚本主要需要设置参数有四个：</p>
<ul>
<li>bakPath：要备份的目录，必须以\结尾</li>
<li>bakTargetPath：备份文件存储路径（可以是网络路径，前提是必须要有权限管理该路径下的文件夹）</li>
<li>DaysAgo：该参数表示要删除多少天之前的备份（比如今天是2012年12月31日，那么20121221的文件不会被删除，20121220或比之小的文件夹将会被删除）</li>
<li>logDaysAgo：该参数表示要删除多少天之前的日志文件</li>
</ul></div><a href="/2014/01/04/2014-01-04-windows-backup-bat/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2013/12/30/2013-12-30-java-string/"><h2 class="post-title">Java String对象的经典问题</h2></a><p class="post-meta">Posted on Dec 30 2013 · <a href="/tags/java/" class="tag post-meta">java</a> · <a href="/tags/string/" class="tag post-meta">string</a></p><div class="post-entry"><h1 id="先来看一个例子，代码如下："><a href="#先来看一个例子，代码如下：" class="headerlink" title="先来看一个例子，代码如下："></a>先来看一个例子，代码如下：</h1><pre><code class="java">public class Test {  
    public static void main(String[] args) {  
        String str = &quot;abc&quot;;  
        String str1 = &quot;abc&quot;;  
        String str2 = new String(&quot;abc&quot;);  
        System.out.println(str == str1);  
        System.out.println(str1 == &quot;abc&quot;);  
        System.out.println(str2 == &quot;abc&quot;);  
        System.out.println(str1 == str2);  
        System.out.println(str1.equals(str2));  
        System.out.println(str1 == str2.intern());  
        System.out.println(str2 == str2.intern());  
        System.out.println(str1.hashCode() == str2.hashCode());  
    }  
}
</code></pre>
<p>如果您能对这8个输出结果直接判断出来，下面的分析就不用看了。但是我想还是有很多人对这个String对象这个问题只是表面的理解，下面就来分析一下Java语言String类和对象及其运行机制的问题。 </p></div><a href="/2013/12/30/2013-12-30-java-string/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2013/12/28/2013-12-28-rmagick-install/"><h2 class="post-title">rmagick的安装</h2></a><p class="post-meta">Posted on Dec 28 2013 · <a href="/tags/rmagick/" class="tag post-meta">rmagick</a> · <a href="/tags/jekyll/" class="tag post-meta">jekyll</a></p><div class="post-entry"><p>在网上看到的基本上都是安装完ruby后再安装ImageMagick，然后再配置环境变量就可以了。。。<br></div><a href="/2013/12/28/2013-12-28-rmagick-install/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2013/12/28/2013-12-28-motivational-eggs/"><h2 class="post-title">励志的鸡蛋</h2></a><p class="post-meta">Posted on Dec 28 2013 · <a href="/tags/motivational/" class="tag post-meta">motivational</a></p><div class="post-entry"><h1 id="励志的鸡蛋"><a href="#励志的鸡蛋" class="headerlink" title="励志的鸡蛋"></a>励志的鸡蛋</h1></div><a href="/2013/12/28/2013-12-28-motivational-eggs/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2013/11/29/2013-11-29-BPMN-2-Event-Base-Gateway-start/"><h2 class="post-title">BPMN 2.0之使用Event Base Gateway启动流程</h2></a><p class="post-meta">Posted on Nov 29 2013 · <a href="/tags/BPMN/" class="tag post-meta">BPMN</a> · <a href="/tags/Gateway/" class="tag post-meta">Gateway</a></p><div class="post-entry"><p>在上篇BPMN 2.0之Event Base Gateway（基于事件的网关）说了Event Base Gateway在流程流转中间的使用，Event Base Gateway的另一个用途是可以启动流程。<br></div><a href="/2013/11/29/2013-11-29-BPMN-2-Event-Base-Gateway-start/" class="post-read-more">[Read More]</a></article><article class="post-preview"><a href="/2013/11/14/2013-11-14-github-notes/"><h2 class="post-title">Git/SVN 常用命令笔记</h2></a><p class="post-meta">Posted on Nov 14 2013 · <a href="/tags/git/" class="tag post-meta">git</a> · <a href="/tags/github/" class="tag post-meta">github</a></p><div class="post-entry"><p>很久没有更新 GitHub 了，以至于那些熟悉的命令也忘记了。今天更新一下，最基础的一些<br>命令，以备以后翻阅。<br>加之最近工作团队需要，经常使用 SVN ，所有将 SVN 的常用命令也记在后面。以备后用。<br></div><a href="/2013/11/14/2013-11-14-github-notes/" class="post-read-more">[Read More]</a></article></div><ul class="pager main-pager"><li class="previous"><a href="/">← Newer Posts</a></li><li class="next"><a href="/page/3">Older Posts →</a></li></ul></div></div></div><footer><div class="container beautiful-jekyll-footer"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href="https://github.com/blademainer" title="GitHub"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-github"></i></span></a></li><li><a href="/atom.xml" title="RSS"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-rss"></i></span></a></li><li><a href="mailto:blademainer@gmail.com" title="Email me"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-envelope"></i></span></a></li><li><a href="https://www.zhihu.com/people/xiong-ying-qi" title="ZhiHu"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-stack-1x fa-inverse fa-link"></i></span></a></li></ul><p class="copyright text-muted">© blademainer • 2017 • <a href="mailto:undefined"></a></p></div></div></div></footer><script src="/js/jquery-1.11.2.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/main.js"></script><script src="/js/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script type="text/javascript">var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?401b87cd7ccfbae7934d36a06c2bb321";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></body></html>